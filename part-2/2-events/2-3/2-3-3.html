<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <style>
            table {
                border-collapse: collapse;
            }
            th,
            td {
                border: 1px solid black;
                padding: 4px;
            }
            th {
                cursor: pointer;
            }
            th:hover {
                background: yellow;
            }
        </style>
    </head>

    <body>
        <table id="grid">
            <thead>
                <tr>
                    <th data-type="number">Возраст</th>
                    <th data-type="string">Имя</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>5</td>
                    <td>Вася</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Петя</td>
                </tr>
                <tr>
                    <td>12</td>
                    <td>Женя</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Маша</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Илья</td>
                </tr>
            </tbody>
        </table>

        <script>
            /*
                Сортируемая таблица
                Задача 3
            */

            grid.onclick = function (e) {
                if (e.target.closest("th")) {
                    const el = e.target.closest("th");
                    sortTable(el);
                }
            };

            function sortTable(el) {
                const tbody = grid.querySelector("tbody");
                const rowsArray = Array.from(tbody.rows);

                if (el.dataset.type == "string") {
                    rowsArray.sort((rowA, rowB) =>
                        rowA.cells[el.cellIndex].innerHTML > rowB.cells[el.cellIndex].innerHTML ? 1 : -1
                    );
                    tbody.append(...rowsArray);
                    return;
                }

                if (el.dataset.type == "number") {
                    rowsArray.sort(
                        (rowA, rowB) => rowA.cells[el.cellIndex].innerHTML - rowB.cells[el.cellIndex].innerHTML
                    );
                    tbody.append(...rowsArray);
                    return;
                }
            }
        </script>
    </body>
</html>
